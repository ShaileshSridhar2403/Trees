{"ast":null,"code":"import _classCallCheck from\"/home/shailesh/Projects/Trees/Trees/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/shailesh/Projects/Trees/Trees/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/shailesh/Projects/Trees/Trees/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/shailesh/Projects/Trees/Trees/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{notify}from\"react-notify-toast\";import{withRouter}from\"react-router-dom\";import axios from\"axios\";var EditNote=/*#__PURE__*/function(_React$Component){_inherits(EditNote,_React$Component);var _super=_createSuper(EditNote);function EditNote(){var _this;_classCallCheck(this,EditNote);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={_id:'',title:'',content:''};return _this;}_createClass(EditNote,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"/api/notes\"+this.props.match.params.id).then(function(res){_this2.setState({_id:res.data._id,title:res.data.title,content:res.data.content});});}},{key:\"setTitle\",value:function setTitle(title){this.setState({title:title});}},{key:\"setContent\",value:function setContent(content){this.setState({content:content});}},{key:\"updateNote\",value:function updateNote(_ref){var _this3=this;var variables=_ref.variables;var editedNote={title:variables.title,content:variables.content};axios.put(\"/api/notes/\"+variables._id,editedNote).then(function(res){console.log(res.data);_this3.props.history.push(\"/\");});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"container m-t-20\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"page-title\"},\"Edit Note\"),/*#__PURE__*/React.createElement(\"div\",{className:\"newnote-page m-t-20\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){// Stop the form from submitting\ne.preventDefault();_this4.updateNote({variables:{_id:_this4.state._id,title:_this4.state.title,content:_this4.state.content}});notify.show(\"Note was edited successfully\",\"success\");}},/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"Note Title\"),/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"input\",{className:\"input\",type:\"text\",name:\"title\",placeholder:\"Note Title\",defaultValue:this.state.title,onChange:function onChange(e){return _this4.setTitle(e.target.value);},required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"Note Content\"),/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"textarea\",rows:\"10\",name:\"content\",type:\"text\",placeholder:\"Note Content here...\",value:this.state.content,onChange:function onChange(e){return _this4.setContent(e.target.value);},required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"button\",{className:\"button is-link\"},\"Submit\"))))));}}]);return EditNote;}(React.Component);export default withRouter(EditNote);","map":{"version":3,"sources":["/home/shailesh/Projects/Trees/Trees/client/src/EditNote.js"],"names":["React","notify","withRouter","axios","EditNote","state","_id","title","content","get","props","match","params","id","then","res","setState","data","variables","editedNote","put","console","log","history","push","e","preventDefault","updateNote","show","setTitle","target","value","setContent","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { notify } from \"react-notify-toast\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\n\nclass EditNote extends React.Component {\n  state = {\n    _id: '',\n    title: '',\n    content: ''\n  }\n  \n  componentDidMount() {\n    axios\n    .get(\"/api/notes\" + this.props.match.params.id)\n    .then(res => {\n      this.setState({\n        _id: res.data._id,\n        title: res.data.title,\n        content: res.data.content\n      })\n    })\n  }\n\n  setTitle(title) {\n    this.setState({\n      title: title\n    })\n  }\n\n  setContent(content) {\n    this.setState({\n      content: content\n    })\n  }\n\n  updateNote({variables}) {\n    const editedNote = {\n      title: variables.title,\n      content: variables.content,\n    }\n    axios\n    .put(\"/api/notes/\" + variables._id, editedNote)\n    .then(res => {\n      console.log(res.data)\n      this.props.history.push(\"/\");\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"container m-t-20\">\n        <h1 className=\"page-title\">Edit Note</h1>\n\n        <div className=\"newnote-page m-t-20\">\n          <form\n            onSubmit={e => {\n              // Stop the form from submitting\n              e.preventDefault();\n\n              this.updateNote({\n                variables: {\n                  _id: this.state._id,\n                  title: this.state.title,\n                  content: this.state.content\n                }\n              });\n\n              notify.show(\"Note was edited successfully\", \"success\");\n            }}\n          >\n            <div className=\"field\">\n              <label className=\"label\">Note Title</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"title\"\n                  placeholder=\"Note Title\"\n                  defaultValue={this.state.title}\n                  onChange={e => this.setTitle(e.target.value)}\n                  required\n                />\n              </div>\n            </div>\n\n            <div className=\"field\">\n              <label className=\"label\">Note Content</label>\n              <div className=\"control\">\n                <textarea\n                  className=\"textarea\"\n                  rows=\"10\"\n                  name=\"content\"\n                  type=\"text\"\n                  placeholder=\"Note Content here...\"\n                  value={this.state.content}\n                  onChange={e => this.setContent(e.target.value)}\n                  required\n                ></textarea>\n              </div>\n            </div>\n\n            <div className=\"field\">\n              <div className=\"control\">\n                <button className=\"button is-link\">Submit</button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  };\n}\n\nexport default withRouter(EditNote);\n"]},"metadata":{},"sourceType":"module"}